# IS301 大作业 聊天程序
本项目主要基于python的socket和pyqt进行编程，其主体功能是实现线上用户的即时聊天（不支持离线留言），交互逻辑为所有登陆用户均为好友，均在同一群聊中，在群聊中发送的消息所有人可见；默认界面为群聊界面，如需私聊，只需双击用户列表对应的用户，可以打开私聊窗口进行信息发送。

## Run
- 配置Pyqt等环境
- 在两个终端中依次运行下列代码

    python server.py

    python UI.py

- 为了便于测试，已创建三个用户（888，999，777）供测试，三个用户的密码同用户名

## Environment

developed in Windows11 home with vscode

    PyQt5                     5.15.6  
    PyQt5-Qt5                 5.15.2  
    PyQt5-sip                 12.9.0  
    PyAudio                   0.2.11  
    pyinstaller               4.7  
    socket  

## Recommend screen

本应用使用**16：10**的2560*1600分辨率下开发，So Attention! 如果屏幕比例是**16：9**可能会出现显示效果异常，推荐在16：10比例下测试

## Scripts
- server.py 服务器程序
- client.py 客户端程序
- UI.py Pyqt图形界面程序
- audio.py 音频支持程序

## Current results
- 一对一聊天（私聊）
- 多用户聊天（群聊）
- 文件传输
- 表情聊天
- 发送语音、听语音
- 群组聊天

## Current bug or problem
- 服务器和客户端之间小概率丢失信息（服务器发向客户端信息的丢失）
- 交互界面中信息发送者和时间信息概率性显示异常，需选中或点击才能完全显示，问题在于子线程不能调用主线程的Gui，此问题受限于时间问题暂时未解决
- 优化不足，性能占用较大，服务器和客户端同时运行在R7 5800H处理器上偶尔会有卡顿
- 文件传输较慢，为了实现较好的传输成功率和效果，文件传输速度不高，导致语音或大文件发送较慢